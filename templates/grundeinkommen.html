{% extends "base.html" %}
{% import "macros/jsonld.html" as jsonld %}

{% block head_extra %}
{{ jsonld::breadcrumb(title=page.title, url=page.permalink, lang=lang) }}
{% if page.extra.faq %}
{{ jsonld::faqpage(faq_items=page.extra.faq) }}
{% endif %}
{% endblock %}

{% block content %}
{# ===== Page hero ===== #}
<section class="page-hero" aria-label="{{ page.title }}">
  <div class="container container--narrow">
    <h1 class="page-hero__title">{{ page.title }}</h1>
    {% if page.description %}
    <p class="page-hero__desc">{{ page.description }}</p>
    {% endif %}
  </div>
</section>

{# ===== Content ===== #}
<section class="canvas canvas--content">
  <div class="container container--narrow">
    {{ page.content | safe }}
  </div>
</section>

{# ===== FAQ ===== #}
{% if page.extra.faq %}
<section class="canvas canvas--content" aria-label="FAQ">
  <div class="container container--narrow">
    <h2>{{ page.extra.faq_title | default(value="FAQ") }}</h2>
    {% for item in page.extra.faq %}
    <details class="faq__item glass-card">
      <summary>
        {{ item.q }}
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/></svg>
      </summary>
      <div class="faq__answer">
        <p>{{ item.a }}</p>
      </div>
    </details>
    {% endfor %}
  </div>
</section>
{% endif %}
{% endblock %}
